<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Actividad - Publicador</title>
    <meta name="description" content="AplicaciÃ³n para registrar actividad como publicador">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2563eb">
    <link rel="apple-touch-icon" href="icon-192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: system-ui, -apple-system, sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        const { Calendar, Clock, BookOpen, Users, Plus, X, Edit2, Trash2, BarChart3, Target, Settings, CheckCircle } = lucide;

        const Icon = ({ icon: IconComponent, ...props }) => {
            useEffect(() => {
                lucide.createIcons();
            });
            return React.createElement('i', { 
                'data-lucide': IconComponent.displayName || IconComponent.name,
                ...props 
            });
        };

        const PublisherActivityTracker = () => {
            const [activities, setActivities] = useState([]);
            const [showModal, setShowModal] = useState(false);
            const [showSettingsModal, setShowSettingsModal] = useState(false);
            const [editingId, setEditingId] = useState(null);
            const [currentView, setCurrentView] = useState('register');
            const [publisherType, setPublisherType] = useState('publicador');
            const [formData, setFormData] = useState({
                date: new Date().toISOString().split('T')[0],
                type: 'predicacion',
                hours: '',
                minutes: '',
                studies: '',
                approvedHours: '',
                approvedDetail: '',
                notes: ''
            });

            const publisherTypes = {
                publicador: { label: 'Publicador', goal: 0, color: 'from-gray-500 to-gray-600', canLogHours: false, canLogApproved: false },
                auxiliar15: { label: 'Precursor Auxiliar (15 hrs)', goal: 15, color: 'from-blue-500 to-blue-600', canLogHours: true, canLogApproved: false },
                auxiliar30: { label: 'Precursor Auxiliar (30 hrs)', goal: 30, color: 'from-indigo-500 to-indigo-600', canLogHours: true, canLogApproved: false },
                regular: { label: 'Precursor Regular', goal: 50, color: 'from-purple-500 to-purple-600', canLogHours: true, canLogApproved: true },
                especial: { label: 'Precursor Especial', goal: 100, color: 'from-pink-500 to-pink-600', canLogHours: true, canLogApproved: true }
            };

            const activityTypes = {
                predicacion: { label: 'PredicaciÃ³n PÃºblica', color: 'bg-blue-500' },
                revisitas: { label: 'Revisitas', color: 'bg-green-500' },
                estudios: { label: 'Estudios BÃ­blicos', color: 'bg-purple-500' },
                informal: { label: 'PredicaciÃ³n Informal', color: 'bg-orange-500' }
            };

            useEffect(() => {
                const saved = localStorage.getItem('publisherActivities');
                if (saved) setActivities(JSON.parse(saved));
                const savedType = localStorage.getItem('publisherType');
                if (savedType) setPublisherType(savedType);
            }, []);

            useEffect(() => {
                localStorage.setItem('publisherActivities', JSON.stringify(activities));
            }, [activities]);

            useEffect(() => {
                localStorage.setItem('publisherType', publisherType);
            }, [publisherType]);

            useEffect(() => {
                lucide.createIcons();
            });

            const handleSubmit = () => {
                const currentType = publisherTypes[publisherType];
                const totalMinutes = parseInt(formData.hours || 0) * 60 + parseInt(formData.minutes || 0);
                
                if (currentType.canLogHours && totalMinutes === 0 && !formData.studies) {
                    alert('Debes ingresar al menos horas o un curso bÃ­blico');
                    return;
                }
                
                const newActivity = {
                    id: editingId || Date.now(),
                    ...formData,
                    totalMinutes
                };

                if (editingId) {
                    setActivities(activities.map(a => a.id === editingId ? newActivity : a));
                } else {
                    setActivities([...activities, newActivity]);
                }
                resetForm();
            };

            const resetForm = () => {
                setFormData({
                    date: new Date().toISOString().split('T')[0],
                    type: 'predicacion',
                    hours: '',
                    minutes: '',
                    studies: '',
                    approvedHours: '',
                    approvedDetail: '',
                    notes: ''
                });
                setShowModal(false);
                setEditingId(null);
            };

            const handleEdit = (activity) => {
                setFormData(activity);
                setEditingId(activity.id);
                setShowModal(true);
            };

            const handleDelete = (id) => {
                if (window.confirm('Â¿EstÃ¡s seguro de eliminar este registro?')) {
                    setActivities(activities.filter(a => a.id !== id));
                }
            };

            const getCurrentMonthStats = () => {
                const now = new Date();
                const currentMonth = now.getMonth();
                const currentYear = now.getFullYear();

                const monthActivities = activities.filter(a => {
                    const date = new Date(a.date);
                    return date.getMonth() === currentMonth && date.getFullYear() === currentYear;
                });

                const totalMinutes = monthActivities.reduce((sum, a) => sum + a.totalMinutes, 0);
                const totalHoursDecimal = totalMinutes / 60;
                const totalApprovedHours = monthActivities.reduce((sum, a) => sum + parseFloat(a.approvedHours || 0), 0);

                const goal = publisherTypes[publisherType].goal;
                const remaining = goal > 0 ? Math.max(0, goal - totalHoursDecimal) : 0;
                const progress = goal > 0 ? Math.min(100, (totalHoursDecimal / goal) * 100) : 0;

                return {
                    totalHours: Math.floor(totalMinutes / 60),
                    remainingMinutes: totalMinutes % 60,
                    totalHoursDecimal: totalHoursDecimal.toFixed(1),
                    totalApprovedHours: totalApprovedHours.toFixed(1),
                    goal,
                    remaining: remaining.toFixed(1),
                    progress: progress.toFixed(1),
                    studies: monthActivities.reduce((sum, a) => sum + parseInt(a.studies || 0), 0),
                    activities: monthActivities.length
                };
            };

            const stats = getCurrentMonthStats();
            const sortedActivities = [...activities].sort((a, b) => new Date(b.date) - new Date(a.date));
            const config = publisherTypes[publisherType];

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100">
                    <div className="bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-lg">
                        <div className="max-w-4xl mx-auto px-4 py-6">
                            <div className="flex items-center justify-between mb-4">
                                <h1 className="text-2xl font-bold">Registro de Actividad</h1>
                                <button onClick={() => setShowSettingsModal(true)} className="p-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-colors">
                                    <i data-lucide="settings" className="w-6 h-6"></i>
                                </button>
                            </div>
                            <div className="bg-white bg-opacity-10 rounded-lg p-3 mb-4">
                                <div className="text-sm opacity-90 mb-1">Tipo de Publicador</div>
                                <div className="font-semibold">{config.label}</div>
                            </div>
                            <div className="flex gap-2">
                                <button onClick={() => setCurrentView('register')} className={`px-4 py-2 rounded-lg font-medium transition-colors ${currentView === 'register' ? 'bg-white text-blue-700' : 'bg-blue-500 hover:bg-blue-400'}`}>
                                    Registrar
                                </button>
                                <button onClick={() => setCurrentView('stats')} className={`px-4 py-2 rounded-lg font-medium transition-colors ${currentView === 'stats' ? 'bg-white text-blue-700' : 'bg-blue-500 hover:bg-blue-400'}`}>
                                    EstadÃ­sticas
                                </button>
                            </div>
                        </div>
                    </div>

                    <div className="max-w-4xl mx-auto px-4 py-6">
                        {currentView === 'stats' && (
                            <div>
                                {stats.goal > 0 && (
                                    <div className="bg-white rounded-xl shadow-lg p-6 mb-6">
                                        <h2 className="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                                            <i data-lucide="target" className="w-6 h-6 text-purple-600"></i>
                                            Meta del Mes
                                        </h2>
                                        <div className="mb-4">
                                            <div className="flex justify-between items-center mb-2">
                                                <div>
                                                    <span className="text-3xl font-bold text-gray-800">{stats.totalHoursDecimal}</span>
                                                    <span className="text-gray-500 text-lg"> / {stats.goal} horas</span>
                                                </div>
                                                <div className="text-right">
                                                    <div className="text-2xl font-bold text-purple-600">{stats.progress}%</div>
                                                    <div className="text-sm text-gray-500">completado</div>
                                                </div>
                                            </div>
                                            <div className="w-full bg-gray-200 rounded-full h-4 overflow-hidden">
                                                <div className={`h-full bg-gradient-to-r ${config.color} transition-all duration-500 rounded-full`} style={{ width: `${Math.min(100, stats.progress)}%` }}></div>
                                            </div>
                                            {parseFloat(stats.remaining) > 0 ? (
                                                <div className="mt-3 text-center">
                                                    <span className="text-gray-600">Faltan </span>
                                                    <span className="font-bold text-orange-600 text-lg">{stats.remaining} horas</span>
                                                    <span className="text-gray-600"> para alcanzar la meta</span>
                                                </div>
                                            ) : (
                                                <div className="mt-3 text-center">
                                                    <span className="font-bold text-green-600 text-lg">Â¡Meta alcanzada! ðŸŽ‰</span>
                                                </div>
                                            )}
                                        </div>
                                        {config.canLogApproved && parseFloat(stats.totalApprovedHours) > 0 && (
                                            <div className="mt-4 bg-green-50 rounded-lg p-4 border-2 border-green-200">
                                                <div className="flex items-center gap-2 mb-2">
                                                    <i data-lucide="check-circle" className="w-5 h-5 text-green-600"></i>
                                                    <span className="font-semibold text-green-800">Horas Aprobadas</span>
                                                </div>
                                                <div className="text-3xl font-bold text-green-700">{stats.totalApprovedHours} hrs</div>
                                            </div>
                                        )}
                                    </div>
                                )}

                                <div className="bg-white rounded-xl shadow-lg p-6 mb-6">
                                    <h2 className="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                                        <i data-lucide="bar-chart-3" className="w-6 h-6 text-blue-600"></i>
                                        Resumen del Mes
                                    </h2>
                                    {config.canLogHours && (
                                        <div className="mb-6">
                                            <div className="bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white">
                                                <div className="flex items-center gap-2 mb-2">
                                                    <i data-lucide="clock" className="w-6 h-6"></i>
                                                    <span className="text-sm opacity-90">Total de Horas</span>
                                                </div>
                                                <div className="text-4xl font-bold">{stats.totalHours}</div>
                                                {stats.remainingMinutes > 0 && <div className="text-lg opacity-90">+{stats.remainingMinutes} minutos</div>}
                                            </div>
                                        </div>
                                    )}
                                    <div className="grid grid-cols-2 gap-4">
                                        <div className="bg-purple-50 rounded-lg p-4 border-2 border-purple-200">
                                            <div className="flex items-center gap-2 mb-2">
                                                <i data-lucide="book-open" className="w-5 h-5 text-purple-600"></i>
                                                <span className="text-sm text-purple-800 font-medium">Cursos BÃ­blicos</span>
                                            </div>
                                            <div className="text-3xl font-bold text-purple-700">{stats.studies}</div>
                                        </div>
                                        <div className="bg-gray-100 rounded-lg p-4">
                                            <div className="text-sm text-gray-600 mb-2">DÃ­as de Actividad</div>
                                            <div className="text-3xl font-bold text-gray-800">{stats.activities}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {currentView === 'register' && (
                            <>
                                {stats.goal > 0 && (
                                    <div className={`bg-gradient-to-r ${config.color} rounded-xl shadow-lg p-4 mb-6 text-white`}>
                                        <div className="flex items-center justify-between">
                                            <div>
                                                <div className="text-sm opacity-90">Progreso del mes</div>
                                                <div className="text-2xl font-bold">{stats.totalHoursDecimal} / {stats.goal} hrs</div>
                                            </div>
                                            <div className="text-right">
                                                <div className="text-sm opacity-90">Faltan</div>
                                                <div className="text-2xl font-bold">{stats.remaining} hrs</div>
                                            </div>
                                        </div>
                                        <div className="w-full bg-white bg-opacity-30 rounded-full h-2 mt-3">
                                            <div className="bg-white h-full rounded-full transition-all duration-500" style={{ width: `${Math.min(100, stats.progress)}%` }}></div>
                                        </div>
                                    </div>
                                )}

                                <button onClick={() => setShowModal(true)} className="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 rounded-xl shadow-lg hover:shadow-xl transition-all font-semibold flex items-center justify-center gap-2 mb-6">
                                    <i data-lucide="plus" className="w-6 h-6"></i>
                                    Nueva Actividad
                                </button>

                                <div className="space-y-4">
                                    {sortedActivities.length === 0 ? (
                                        <div className="bg-white rounded-xl shadow-lg p-12 text-center">
                                            <i data-lucide="calendar" className="w-16 h-16 text-gray-300 mx-auto mb-4"></i>
                                            <p className="text-gray-500 text-lg">No hay actividades registradas</p>
                                            <p className="text-gray-400 text-sm mt-2">Presiona "Nueva Actividad" para comenzar</p>
                                        </div>
                                    ) : (
                                        sortedActivities.map(activity => {
                                            const hours = Math.floor(activity.totalMinutes / 60);
                                            const minutes = activity.totalMinutes % 60;
                                            const actType = activityTypes[activity.type] || {};

                                            return (
                                                <div key={activity.id} className="bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-5">
                                                    <div className="flex items-start justify-between mb-3">
                                                        <div className="flex items-center gap-3">
                                                            {activity.totalMinutes > 0 ? (
                                                                <div className={`${actType.color || 'bg-gray-500'} p-3 rounded-lg`}>
                                                                    <i data-lucide="users" className="w-6 h-6 text-white"></i>
                                                                </div>
                                                            ) : (
                                                                <div className="bg-purple-500 p-3 rounded-lg">
                                                                    <i data-lucide="book-open" className="w-6 h-6 text-white"></i>
                                                                </div>
                                                            )}
                                                            <div>
                                                                <h3 className="font-bold text-gray-800">
                                                                    {activity.totalMinutes > 0 ? actType.label || 'Actividad' : 'Curso BÃ­blico'}
                                                                </h3>
                                                                <p className="text-sm text-gray-500">
                                                                    {new Date(activity.date + 'T00:00:00').toLocaleDateString('es-ES', { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' })}
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div className="flex gap-2">
                                                            <button onClick={() => handleEdit(activity)} className="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors">
                                                                <i data-lucide="edit-2" className="w-5 h-5"></i>
                                                            </button>
                                                            <button onClick={() => handleDelete(activity.id)} className="p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors">
                                                                <i data-lucide="trash-2" className="w-5 h-5"></i>
                                                            </button>
                                                        </div>
                                                    </div>

                                                    <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
                                                        {activity.totalMinutes > 0 && (
                                                            <div className="bg-blue-50 rounded-lg p-3">
                                                                <div className="text-xs text-blue-600 font-medium mb-1">Tiempo</div>
                                                                <div className="font-bold text-gray-800">{hours}h {minutes > 0 && `${minutes}m`}</div>
                                                            </div>
                                                        )}
                                                        {parseInt(activity.studies) > 0 && (
                                                            <div className="bg-purple-50 rounded-lg p-3 border-2 border-purple-200">
                                                                <div className="text-xs text-purple-600 font-medium mb-1">Cursos BÃ­blicos</div>
                                                                <div className="font-bold text-gray-800">{activity.studies}</div>
                                                            </div>
                                                        )}
                                                        {parseFloat(activity.approvedHours) > 0 && (
                                                            <div className="bg-green-50 rounded-lg p-3 border-2 border-green-200">
                                                                <div className="text-xs text-green-600 font-medium mb-1 flex items-center gap-1">
                                                                    <i data-lucide="check-circle" className="w-3 h-3"></i>
                                                                    Hrs Aprobadas
                                                                </div>
                                                                <div className="font-bold text-gray-800">{activity.approvedHours}</div>
                                                            </div>
                                                        )}
                                                    </div>

                                                    {activity.approvedDetail && (
                                                        <div className="mt-3 pt-3 border-t border-gray-100">
                                                            <div className="text-xs text-gray-500 mb-1">Detalle de horas aprobadas:</div>
                                                            <p className="text-sm text-gray-700 font-medium">{activity.approvedDetail}</p>
                                                        </div>
                                                    )}

                                                    {activity.notes && (
                                                        <div className="mt-3 pt-3 border-t border-gray-100">
                                                            <div className="text-xs text-gray-500 mb-1">Notas:</div>
                                                            <p className="text-sm text-gray-600">{activity.notes}</p>
                                                        </div>
                                                    )}
                                                </div>
                                            );
                                        })
                                    )}
                                </div>
                            </>
                        )}
                    </div>

                    {showSettingsModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
                            <div className="bg-white rounded-2xl shadow-2xl max-w-md w-full">
                                <div className="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-2xl flex items-center justify-between">
                                    <h2 className="text-xl font-bold">ConfiguraciÃ³n</h2>
                                    <button onClick={() => setShowSettingsModal(false)} className="p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors">
                                        <i data-lucide="x" className="w-6 h-6"></i>
                                    </button>
                                </div>
                                <div className="p-6">
                                    <label className="block text-sm font-medium text-gray-700 mb-3">Tipo de Publicador</label>
                                    <div className="space-y-2">
                                        {Object.entries(publisherTypes).map(([key, value]) => (
                                            <button key={key} onClick={() => { setPublisherType(key); setShowSettingsModal(false); }} className={`w-full text-left px-4 py-3 rounded-lg border-2 transition-all ${publisherType === key ? 'border-blue-500 bg-blue-50 text-blue-700 font-semibold' : 'border-gray-200 hover:border-gray-300 text-gray-700'}`}>
                                                <div className="flex items-center justify-between">
                                                    <span>{value.label}</span>
                                                    {value.goal > 0 && <span className="text-sm opacity-75">{value.goal} hrs/mes</span>}
                                                </div>
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {showModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
                            <div className="bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto">
                                <div className="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-2xl">
                                    <h2 className="text-xl font-bold text-gray-800">{editingId ? 'Editar Actividad' : 'Nueva Actividad'}</h2>
                                    <button onClick={resetForm} className="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                                        <i data-lucide="x" className="w-6 h-6 text-gray-500"></i>
                                    </button>
                                </div>

                                <div className="p-6 space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Fecha</label>
                                        <input type="date" value={formData.date} onChange={(e) => setFormData({ ...formData, date: e.target.value })} className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />
                                    </div>

                                    {config.canLogHours && (
                                        <>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">Detalle de Horas Aprobadas</label>
                                            <textarea value={formData.approvedDetail} onChange={(e) => setFormData({ ...formData, approvedDetail: e.target.value })} className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" rows="2" placeholder="Ej: ConstrucciÃ³n de SalÃ³n del Reino, Congreso Regional, etc."></textarea>
                                        </div>
                                    )}

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Notas</label>
                                        <textarea value={formData.notes} onChange={(e) => setFormData({ ...formData, notes: e.target.value })} className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3" placeholder="Notas adicionales (opcional)"></textarea>
                                    </div>

                                    <div className="flex gap-3 pt-4">
                                        <button onClick={resetForm} className="flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium">
                                            Cancelar
                                        </button>
                                        <button onClick={handleSubmit} className="flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-all font-medium">
                                            {editingId ? 'Guardar Cambios' : 'Registrar'}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        ReactDOM.render(<PublisherActivityTracker />, document.getElementById('root'));
    </script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => console.log('Service Worker registrado'))
                    .catch(err => console.log('Error al registrar Service Worker', err));
            });
        }
    </script>
 text-gray-700 mb-2">Tipo de Actividad</label>
                                                <select value={formData.type} onChange={(e) => setFormData({ ...formData, type: e.target.value })} className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                                    {Object.entries(activityTypes).map(([key, value]) => (
                                                        <option key={key} value={key}>{value.label}</option>
                                                    ))}
                                                </select>
                                            </div>

                                            <div className="grid grid-cols-2 gap-4">
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-2">Horas</label>
                                                    <input type="number" min="0" value={formData.hours} onChange={(e) => setFormData({ ...formData, hours: e.target.value })} className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="0" />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-2">Minutos</label>
                                                    <input type="number" min="0" max="59" value={formData.minutes} onChange={(e) => setFormData({ ...formData, minutes: e.target.value })} className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="0" />
                                                </div>
                                            </div>
                                        </>
                                    )}

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Cursos BÃ­blicos</label>
                                        <input type="number" min="0" value={formData.studies} onChange={(e) => setFormData({ ...formData, studies: e.target.value })} className="w-full px-4 py-2 border-2 border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="0" />
                                    </div>

                                    {config.canLogApproved && (
                                        <div className="bg-green-50 border-2 border-green-200 rounded-lg p-4">
                                            <div className="flex items-center gap-2 mb-3">
                                                <i data-lucide="check-circle" className="w-5 h-5 text-green-600"></i>
                                                <label className="text-sm font-bold text-green-800">Horas Aprobadas</label>
                                            </div>
                                            <input type="number" min="0" step="0.5" value={formData.approvedHours} onChange={(e) => setFormData({ ...formData, approvedHours: e.target.value })} className="w-full px-4 py-2 border-2 border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent mb-3" placeholder="0" />
                                            <label className="block text-sm font-medium